# 시스템 프로그래밍 기본



## 시스템 프로그래밍의 기반 요소

-  시스템 콜
  - read(), write() 등등
- C 라이브러리
- C 컴파일러

### 시스템 콜 기본 구현

- eax 레지스터에 시스템 콜 번호를 넣고
- ebx 레지스터에는 시스템 콜에 해당하는 인자값을 넣고
- 소프트웨어 인터럽트 명령을 호출하면 서 0x80 값을 넘겨줌

```
mov eax, 1
mov ebx, 0
int 0x80 // 소프트웨어 인터럽트
```

- 소프트웨어 인터럽트 명령을 호출하면서 0x80 값을 넣어준다
  - CPU는 사용자 모드를 커널 모드로 변경
  - IDT 에서 0x80 에 해당하는 주소 함수를 찾아서 실행함

## API, ABI

### API 

- 응용 프로그램과 분이된 하위 호환 인터페이스

### ABI(application binary interface)

- 함수 실행 방식, 레지스터 활용, 시스템 콜 실행, 라이브러리 링크 방식 등을 정해준 것
- ABI 가 호환되면 재컴파일없이 동작
- 컴파일러, 링커, 툴체인 (컴파일러를 만드는 프로그램) 에서 제공

```
툴체인이란?
툴체인(Toolchain)이란 타겟 시스템에서 동작하는 프로그램 개발에 필요한 호스트 시스템의 소프트웨어들 또는 개발 환경을 통칭하기도 한다. 조금 더 자세하게 설명하면 소스 코드를 컴파일하고 빌드하여 바이너리 실행 파일을 생성하는데 필요한 각종 유틸리티 및 라이브러리의 모음이다.

```



## 리눅스 C 라이브러리

- GNU libc, glibc
  - 시스템콜, 시스템콜 래퍼 등 제공



### POSIX

- 유닉스 스스템 프로그래밍 인터페이스 표준
- 리눅스는 POSIX 와 ANSI C 를 지원